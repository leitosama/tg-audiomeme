# tg-audiomeme

Телеграм бот - альтернатива Stickers, но для аудио и видео сообщений.

## Возможности

### Для администратора

- **Добавление мемов** (`/add`) - добавить аудио или видео в базу данных через личные сообщения:
  - Можно переслать сообщение с аудио/видео
  - Или загрузить файл напрямую
  - Бот сохранит `file_id` для последующего использования

- **Удаление мемов** (`/delete`) - удалить сохраненный мем
  - Выбрать мем из списка
  - Подтвердить удаление

- **Список мемов** (`/list`) - посмотреть все сохраненные мемы

### Для всех пользователей

- **InlineQuery** - использовать аудио/видео мемы через inline mode:
  - Введи `@botname` в любом чате
  - Выбери нужный мем
  - Бот отправит сохраненное аудио или видео

## Установка

### Требования

- Python 3.8+
- Telegram Bot Token (от BotFather)

### Зависимости

```bash
pip install -r requirements.txt
```

### Переменные окружения

Установи переменные в `.env` файле:

```
BOT_TOKEN=your_bot_token_here
ADMIN_ID=your_admin_id_here
DB_PATH=audio_meme.db  # опционально, по умолчанию audio_meme.db
```

## Запуск

```bash
python main.py
```

## База данных

Все мемы сохраняются в SQLite базе данных (`audio_meme.db` по умолчанию).

Таблица `memes`:
- `id` - уникальный ID
- `name` - название мема
- `file_id` - Telegram file_id для кэширования
- `media_type` - тип: "audio" или "video"
- `created_at` - дата добавления

## Docker

Проект включает `Dockerfile` и `docker-compose.yml` для контейнеризации.

```bash
docker-compose up
```
